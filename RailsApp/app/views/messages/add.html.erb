<h1 class="display-4 text-primary">Messages#add</h1>
<p><%= @msg %></p>

<!--エラーメッセージ表示-->
<!--anyは配列の中身があるかの確認-->
<% if @message.errors.any? %>
<ul>
    <% @message.errors.full_messages.each do |err| %>
        <li><%= err %></li>
    <% end %>
</ul>
<% end %>

<!--フォームヘルパーを使用する場合はform_for-->
<%=form_for(@message, url:{controller:'messages', action:'create'}) do |form| %>
    <div class="form-group">
        <label for="person_id">person ID</label>
        <!--フォームの内容がmessage[name]というようにまとめられ，受け取ったアクションはハッシュ(params[:message])として扱える-->
        <%= form.text_field :person_id, {class:"form-control"} %>
    </div>
    <div class="form-group">
        <label for="title">title</label>
        <%= form.text_field :title, {class:"form-control"} %>
    </div>
    <div class="form-group">
        <label for="message">message</label>
        <%= form.text_area :message, {rows:3, class:"form-control"} %>
    </div>
    <%= form.submit("作成", class:"btn btn-primary") %>
<% end %>