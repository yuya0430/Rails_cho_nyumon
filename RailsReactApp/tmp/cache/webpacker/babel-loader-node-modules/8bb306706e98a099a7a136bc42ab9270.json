{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuyay\\\\Documents\\\\Rails_cho_nyumon\\\\RailsReactApp\\\\app\\\\javascript\\\\packs\\\\dummy_data.jsx\";\n// Run this example by adding <%= javascript_pack_tag 'hello_react' %> to the head of your layout file,\n// like app/views/layouts/application.html.erb. All it does is render <div>Hello React</div> at the bottom\n// of the page.\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nvar target_dom = null;\ndocument.addEventListener('DOMContentLoaded', function () {\n  target_dom = document.querySelector('#data');\n  var url = new URL(location.href);\n  var f = url.searchParams.get(\"name\");\n\n  if (f == null) {\n    f = '';\n  }\n\n  getData(f);\n});\n\nfunction getData(f) {\n  var _this = this;\n\n  var url = \"http://localhost:3000/data/ajax\";\n\n  if (f != '') {\n    url += '?name=' + f;\n  }\n\n  fetch(url).then(function (res) {\n    return res.json();\n  }, function (error) {\n    var el = /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"ERROR!!\");\n    ReactDOM.render(el, target_dom);\n  }).then(function (result) {\n    var arr = [];\n\n    for (var n in result) {\n      var val = result[n];\n      arr.push( /*#__PURE__*/React.createElement(\"li\", {\n        \"class\": \"list-group-item\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 26\n        }\n      }, val.id, \":\", val.name, \" (\", val.mail, \")\"));\n    }\n\n    var el = /*#__PURE__*/React.createElement(\"ul\", {\n      \"class\": \"list-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, arr);\n    ReactDOM.render(el, target_dom);\n  }, function (error) {\n    var el = /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \"ERROR!!\");\n    ReactDOM.render(el, target_dom);\n  });\n}","map":{"version":3,"sources":["C:/Users/yuyay/Documents/Rails_cho_nyumon/RailsReactApp/app/javascript/packs/dummy_data.jsx"],"names":["React","ReactDOM","PropTypes","target_dom","document","addEventListener","querySelector","url","URL","location","href","f","searchParams","get","getData","fetch","then","res","json","error","el","render","result","arr","n","val","push","id","name","mail"],"mappings":";AAAA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,IAAIC,UAAU,GAAG,IAAjB;AAEAC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClDF,EAAAA,UAAU,GAAGC,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAb;AACA,MAAMC,GAAG,GAAG,IAAIC,GAAJ,CAAQC,QAAQ,CAACC,IAAjB,CAAZ;AACA,MAAIC,CAAC,GAAGJ,GAAG,CAACK,YAAJ,CAAiBC,GAAjB,CAAqB,MAArB,CAAR;;AACA,MAAIF,CAAC,IAAI,IAAT,EAAc;AAAEA,IAAAA,CAAC,GAAG,EAAJ;AAAQ;;AACxBG,EAAAA,OAAO,CAACH,CAAD,CAAP;AACD,CAND;;AAQA,SAASG,OAAT,CAAiBH,CAAjB,EAAoB;AAAA;;AAChB,MAAIJ,GAAG,GAAG,iCAAV;;AACA,MAAII,CAAC,IAAI,EAAT,EAAY;AACRJ,IAAAA,GAAG,IAAI,WAAWI,CAAlB;AACH;;AACDI,EAAAA,KAAK,CAACR,GAAD,CAAL,CACCS,IADD,CAEI,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GAFP,EAGI,UAACC,KAAD,EAAW;AACP,QAAMC,EAAE,gBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAGAnB,IAAAA,QAAQ,CAACoB,MAAT,CAAgBD,EAAhB,EAAoBjB,UAApB;AACH,GARL,EAUCa,IAVD,CAWI,UAACM,MAAD,EAAY;AACR,QAAIC,GAAG,GAAG,EAAV;;AACA,SAAI,IAAIC,CAAR,IAAaF,MAAb,EAAoB;AAChB,UAAIG,GAAG,GAAGH,MAAM,CAACE,CAAD,CAAhB;AACAD,MAAAA,GAAG,CAACG,IAAJ,eAAS;AAAI,iBAAM,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJD,GAAG,CAACE,EADA,OACKF,GAAG,CAACG,IADT,QACiBH,GAAG,CAACI,IADrB,MAAT;AAGH;;AACD,QAAMT,EAAE,gBACJ;AAAI,eAAM,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBG,GAAxB,CADJ;AAGAtB,IAAAA,QAAQ,CAACoB,MAAT,CAAgBD,EAAhB,EAAoBjB,UAApB;AACH,GAvBL,EAwBI,UAACgB,KAAD,EAAW;AACP,QAAMC,EAAE,gBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAGAnB,IAAAA,QAAQ,CAACoB,MAAT,CAAgBD,EAAhB,EAAoBjB,UAApB;AACH,GA7BL;AA+BH","sourcesContent":["// Run this example by adding <%= javascript_pack_tag 'hello_react' %> to the head of your layout file,\r\n// like app/views/layouts/application.html.erb. All it does is render <div>Hello React</div> at the bottom\r\n// of the page.\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nvar target_dom = null;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  target_dom = document.querySelector('#data');\r\n  const url = new URL(location.href);\r\n  let f = url.searchParams.get(\"name\")\r\n  if (f == null){ f = '';}\r\n  getData(f);\r\n});\r\n\r\nfunction getData(f) {\r\n    let url = \"http://localhost:3000/data/ajax\";\r\n    if (f != ''){\r\n        url += '?name=' + f;\r\n    }\r\n    fetch(url)\r\n    .then(\r\n        res => res.json(),\r\n        (error) => {\r\n            const el = (\r\n                <p>ERROR!!</p>\r\n            );\r\n            ReactDOM.render(el, target_dom);\r\n        }\r\n    )\r\n    .then(\r\n        (result) => {\r\n            let arr = [];\r\n            for(let n in result){\r\n                let val = result[n];\r\n                arr.push(<li class=\"list-group-item\">\r\n                    {val.id}:{val.name} ({val.mail})\r\n                </li>);\r\n            }\r\n            const el = (\r\n                <ul class=\"list-group\">{arr}</ul>\r\n            );\r\n            ReactDOM.render(el, target_dom);\r\n        },\r\n        (error) => {\r\n            const el = (\r\n                <p>ERROR!!</p>\r\n            );\r\n            ReactDOM.render(el, target_dom)\r\n        }\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}